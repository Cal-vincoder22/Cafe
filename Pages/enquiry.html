<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Café Mocha | Make an Enquiry - Coffee Catering & Events</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Make an enquiry with Café Mocha for catering, event bookings, wholesale coffee, or general questions. Get pricing and availability for our premium services.">
    <meta name="keywords" content="coffee catering Johannesburg, event venue Rosebank, wholesale coffee beans, café enquiry, party booking">
    <meta name="robots" content="index, follow">
    
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
    

</head>
<body class="visibility-fix">
    <header>
        <h1>Café Mocha</h1>
        <img src="../Assets/WhatsApp Image 2025-08-25 at 21.04.14_2d31b423.jpg" width="200" height="150" alt="Café Mocha Logo - Artisan Coffee Shop">
        <nav>
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="menu.html">Menu</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="enquiry.html">Enquiries</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- Enquiry form section -->
        <section>
            <h2>Make an Enquiry</h2>
            
            <form id="enquiryForm" class="enquiry-form" novalidate>
                <fieldset>
                    <legend>Your Information</legend>
                    <div class="form-group">
                        <label for="name">Full Name: *</label>
                        <input type="text" id="name" name="name" placeholder="Enter your full name">
                        <span class="error-message" id="name-error"></span>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email: *</label>
                        <input type="text" id="email" name="email" placeholder="your.email@example.com">
                        <span class="error-message" id="email-error"></span>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">Phone: *</label>
                        <input type="tel" id="phone" name="phone" placeholder="+27 12 345 6789">
                        <span class="error-message" id="phone-error"></span>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Enquiry Details</legend>
                    <div class="form-group">
                        <label for="enquiry-type">Enquiry Type: *</label>
                        <select id="enquiry-type" name="enquiry-type">
                            <option value="">Please select...</option>
                            <option value="general">General Question</option>
                            <option value="catering">Catering Request</option>
                            <option value="events">Event Booking</option>
                            <option value="wholesale">Wholesale Coffee</option>
                            <option value="feedback">Feedback</option>
                        </select>
                        <span class="error-message" id="enquiry-type-error"></span>
                    </div>
                    
                    <div class="form-group">
                        <label for="event-date">Event Date (if applicable):</label>
                        <input type="date" id="event-date" name="event-date">
                        <span class="error-message" id="event-date-error"></span>
                    </div>
                    
                    <div class="form-group">
                        <label for="guests">Number of Guests (if applicable):</label>
                        <input type="number" id="guests" name="guests" min="1" max="1000" placeholder="e.g., 25">
                        <span class="error-message" id="guests-error"></span>
                    </div>
                    
                    <div class="form-group">
                        <label for="message">Message: *</label>
                        <textarea id="message" name="message" rows="5" placeholder="Please provide details about your enquiry..."></textarea>
                        <small>Minimum 10 characters required</small>
                        <span class="error-message" id="message-error"></span>
                    </div>
                </fieldset>

                <button type="submit" class="btn">Submit Enquiry</button>
            </form>
        </section>
        
        <section class="enquiry-info">
            <h3>Other Ways to Reach Us</h3>
            <p>For immediate assistance, please call us at <a href="tel:+27683189672">+27 68 318 9672</a> during business hours.</p>
            
            <div class="response-times">
                <h4>Expected Response Times:</h4>
                <ul>
                    <li><strong>Catering Requests:</strong> Within 2 hours</li>
                    <li><strong>Event Bookings:</strong> Within 4 hours</li>
                    <li><strong>General Enquiries:</strong> Within 24 hours</li>
                    <li><strong>Wholesale Coffee:</strong> Within 2 business days</li>
                </ul>
            </div>
        </section>
    </main>

    <footer>
        <p style="text-align: center;">&copy; 2025 Café Mocha.</p>
        <address style="text-align: center;">
            Rosebank, Johannesburg, South Africa
        </address>
    </footer>
    
    <!-- Social media icons section with proper titles -->
    <div class="social-icons">
        <a href="http://www.instagram.com/" class="instagram" data-platform="Instagram" title="Follow us on Instagram">
            <i class="fab fa-instagram"></i>
        </a>
        <a href="http://www.facebook.com" class="facebook" data-platform="Facebook" title="Like us on Facebook">
            <i class="fab fa-facebook"></i>
        </a>
        <a href="http://www.twitter.com/" class="twitter" data-platform="Twitter" title="Follow us on Twitter">
            <i class="fab fa-twitter"></i>
        </a>
        <a href="http://www.tiktok.com/" class="tiktok" data-platform="TikTok" title="Follow us on TikTok">
            <i class="fab fa-tiktok"></i>
        </a>
    </div>

    <!-- JavaScript Files -->
    <script src="../javascript/main.js"></script>
    <script src="../javascript/form.js"></script>
    
    <!-- Enquiry Form Validation JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const enquiryForm = document.getElementById('enquiryForm');
            
            if (enquiryForm) {
                enquiryForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Reset previous errors
                    clearErrors();
                    
                    // Validate all fields
                    const isNameValid = validateName();
                    const isEmailValid = validateEmail();
                    const isPhoneValid = validatePhone();
                    const isEnquiryTypeValid = validateEnquiryType();
                    const isEventDateValid = validateEventDate();
                    const isGuestsValid = validateGuests();
                    const isMessageValid = validateMessage();
                    
                    // If all valid, submit form
                    if (isNameValid && isEmailValid && isPhoneValid && isEnquiryTypeValid && isEventDateValid && isGuestsValid && isMessageValid) {
                        // Here you would typically send the data to a server
                        alert('Thank you! Your enquiry has been submitted successfully. We\'ll get back to you soon!');
                        enquiryForm.reset();
                        clearErrors();
                    }
                });
                
                // Real-time validation as user moves away from fields
                setupRealTimeValidation();
            }
            
            function validateName() {
                const nameInput = document.getElementById('name');
                const nameError = document.getElementById('name-error');
                const name = nameInput.value.trim();
                
                if (name === '') {
                    showError(nameInput, nameError, 'Full name is required');
                    return false;
                }
                
                if (name.length < 2) {
                    showError(nameInput, nameError, 'Name must be at least 2 characters');
                    return false;
                }
                
                showSuccess(nameInput);
                return true;
            }
            
            function validateEmail() {
                const emailInput = document.getElementById('email');
                const emailError = document.getElementById('email-error');
                const email = emailInput.value.trim();
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                
                if (email === '') {
                    showError(emailInput, emailError, 'Email is required');
                    return false;
                }
                
                if (!emailRegex.test(email)) {
                    showError(emailInput, emailError, 'Please enter a valid email address');
                    return false;
                }
                
                showSuccess(emailInput);
                return true;
            }
            
            function validatePhone() {
                const phoneInput = document.getElementById('phone');
                const phoneError = document.getElementById('phone-error');
                const phone = phoneInput.value.trim();
                
                if (phone === '') {
                    showError(phoneInput, phoneError, 'Phone number is required');
                    return false;
                }
                
                // Count digits to ensure it's a reasonable phone number
                const digitCount = phone.replace(/\D/g, '').length;
                
                if (digitCount < 8) {
                    showError(phoneInput, phoneError, 'Please enter at least 8 digits for a valid phone number');
                    return false;
                }
                
                if (digitCount > 15) {
                    showError(phoneInput, phoneError, 'Phone number is too long');
                    return false;
                }
                
                // Very basic check - just ensure it contains mostly numbers and common phone characters
                const invalidChars = phone.match(/[^\d\s\-\+\(\)\.]/g);
                if (invalidChars) {
                    showError(phoneInput, phoneError, 'Please use only numbers, spaces, hyphens, parentheses, and + sign');
                    return false;
                }
                
                showSuccess(phoneInput);
                return true;
            }
            
            function validateEnquiryType() {
                const enquiryTypeInput = document.getElementById('enquiry-type');
                const enquiryTypeError = document.getElementById('enquiry-type-error');
                const enquiryType = enquiryTypeInput.value;
                
                if (enquiryType === '') {
                    showError(enquiryTypeInput, enquiryTypeError, 'Please select an enquiry type');
                    return false;
                }
                
                showSuccess(enquiryTypeInput);
                return true;
            }
            
            function validateEventDate() {
                const eventDateInput = document.getElementById('event-date');
                const eventDateError = document.getElementById('event-date-error');
                const eventDate = eventDateInput.value;
                const enquiryType = document.getElementById('enquiry-type').value;
                
                // Event date is only required for catering and events
                if ((enquiryType === 'catering' || enquiryType === 'events') && eventDate === '') {
                    showError(eventDateInput, eventDateError, 'Event date is required for catering and event bookings');
                    return false;
                }
                
                // If date is provided, check if it's not in the past
                if (eventDate !== '') {
                    const selectedDate = new Date(eventDate);
                    const today = new Date();
                    today.setHours(0, 0, 0, 0); // Reset time part for accurate comparison
                    
                    if (selectedDate < today) {
                        showError(eventDateInput, eventDateError, 'Event date cannot be in the past');
                        return false;
                    }
                }
                
                showSuccess(eventDateInput);
                return true;
            }
            
            function validateGuests() {
                const guestsInput = document.getElementById('guests');
                const guestsError = document.getElementById('guests-error');
                const guests = guestsInput.value;
                const enquiryType = document.getElementById('enquiry-type').value;
                
                // Guests is only required for catering and events
                if ((enquiryType === 'catering' || enquiryType === 'events') && guests === '') {
                    showError(guestsInput, guestsError, 'Number of guests is required for catering and event bookings');
                    return false;
                }
                
                // If guests is provided, validate the number
                if (guests !== '') {
                    const guestsNum = parseInt(guests);
                    if (isNaN(guestsNum) || guestsNum < 1) {
                        showError(guestsInput, guestsError, 'Please enter a valid number of guests (minimum 1)');
                        return false;
                    }
                    
                    if (guestsNum > 1000) {
                        showError(guestsInput, guestsError, 'For events larger than 1000 guests, please call us directly');
                        return false;
                    }
                }
                
                showSuccess(guestsInput);
                return true;
            }
            
            function validateMessage() {
                const messageInput = document.getElementById('message');
                const messageError = document.getElementById('message-error');
                const message = messageInput.value.trim();
                
                if (message === '') {
                    showError(messageInput, messageError, 'Message is required');
                    return false;
                }
                
                if (message.length < 10) {
                    showError(messageInput, messageError, 'Message must be at least 10 characters');
                    return false;
                }
                
                showSuccess(messageInput);
                return true;
            }
            
            function showError(input, errorElement, message) {
                errorElement.textContent = message;
                errorElement.style.display = 'block';
                input.parentElement.classList.add('error');
                input.parentElement.classList.remove('success');
            }
            
            function showSuccess(input) {
                const errorElement = input.parentElement.querySelector('.error-message');
                if (errorElement) {
                    errorElement.style.display = 'none';
                }
                input.parentElement.classList.remove('error');
                input.parentElement.classList.add('success');
            }
            
            function clearErrors() {
                const errorMessages = document.querySelectorAll('.error-message');
                errorMessages.forEach(error => {
                    error.style.display = 'none';
                });
                
                const formGroups = document.querySelectorAll('.form-group');
                formGroups.forEach(group => {
                    group.classList.remove('error', 'success');
                });
            }
            
            function setupRealTimeValidation() {
                const inputs = enquiryForm.querySelectorAll('input, textarea, select');
                
                inputs.forEach(input => {
                    input.addEventListener('blur', function() {
                        validateField(this.id);
                    });
                    
                    input.addEventListener('input', function() {
                        const errorElement = this.parentElement.querySelector('.error-message');
                        if (errorElement && errorElement.style.display === 'block') {
                            this.parentElement.classList.remove('error');
                            errorElement.style.display = 'none';
                        }
                    });
                });
                
                // Special handling for enquiry type changes (affects event date and guests)
                const enquiryTypeInput = document.getElementById('enquiry-type');
                enquiryTypeInput.addEventListener('change', function() {
                    validateEventDate();
                    validateGuests();
                });
            }
            
            function validateField(fieldId) {
                switch(fieldId) {
                    case 'name':
                        validateName();
                        break;
                    case 'email':
                        validateEmail();
                        break;
                    case 'phone':
                        validatePhone();
                        break;
                    case 'enquiry-type':
                        validateEnquiryType();
                        break;
                    case 'event-date':
                        validateEventDate();
                        break;
                    case 'guests':
                        validateGuests();
                        break;
                    case 'message':
                        validateMessage();
                        break;
                }
            }
        });
    </script>

    <!-- Emergency JavaScript Fix -->
    <script>
        // Force visibility on load
        document.addEventListener('DOMContentLoaded', function() {
            // Ensure all text is visible
            const allElements = document.querySelectorAll('*');
            allElements.forEach(el => {
                el.style.color = '#333';
                el.style.backgroundColor = 'transparent';
            });
            
            // Force section backgrounds
            const sections = document.querySelectorAll('section');
            sections.forEach(section => {
                section.style.backgroundColor = 'white';
                section.style.color = '#333';
            });
            
            // Force form backgrounds
            const forms = document.querySelectorAll('form');
            forms.forEach(form => {
                form.style.backgroundColor = 'white';
                form.style.color = '#333';
            });
            
            // Force fieldset backgrounds
            const fieldsets = document.querySelectorAll('fieldset');
            fieldsets.forEach(fieldset => {
                fieldset.style.backgroundColor = '#f9f9f9';
            });
            
            // Set minimum date for event date to today
            const eventDateInput = document.getElementById('event-date');
            if (eventDateInput) {
                const today = new Date().toISOString().split('T')[0];
                eventDateInput.min = today;
            }
        });
    </script>
</body>
</html>